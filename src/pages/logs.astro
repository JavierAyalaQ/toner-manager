---
import Layout from "@layouts/Layout.astro";
import Container from "@components/Container.astro";
import Typography from "@components/Typography.astro";
import { db } from "@/lib/neon";

import LogsTable from "@sections/LogsTable.tsx";

const logs = await db`SELECT * FROM toner_logs ORDER BY toner_log_id DESC`;
/* 
export async function getStaticPaths({ paginate }) {

  // Return a paginated collection of paths for all items
  return paginate(allPokemon, { pageSize: 10 });
}

const { page } = Astro.props;
*/
---

<Layout title="Historial">
  <Container className="">
    <Typography as="h1" variant="h1" class:list="text-4xl font-bold mb-12"
      >Historial</Typography
    >
    <!-- <LogsTable client:load /> -->
    <div class="flex flex-col gap-2">
      {
        logs.length === 0 ? (
          <div class="flex items-center justify-center bg-gray-700/50 p-2 rounded mb-2 text-gray-100 border border-gray-700 hover:border-gray-100">
            No hay cambios registrados
          </div>
        ) : (
          logs.map((log, index) => (
            <div
              class="flex items-center bg-gray-700/50 px-4 py-2 rounded mb-2 text-gray-100 border border-gray-700 hover:border-gray-100"
            >
              {log}
            </div>
          ))
        )
      }
    </div>
  </Container>
</Layout>
